define(["dispatcher","skrollr","utils","resize/breakpoint.store"],function(e,t,o,n){"use strict";var i;return{init:function(){var r=n.getData().breakpoint.name;if("tablet"!==r&&"mobile"!==r){var s="ontouchstart"in document.documentElement;Modernizr&&!Modernizr.opacity||s||(i=t.init({forceHeight:!1,smoothScrolling:!1,smoothScrollingDuration:0,mobileCheck:function(){return!1}}),e.subscribe(function(e){var t,n=500;"scroll-to"===e.type&&(e.hasOwnProperty("speed")&&"number"==typeof e.speed&&(n=e.speed),e.hasOwnProperty("position")&&"number"==typeof e.position?(t=e.position,i.animateTo(t,{duration:n,easing:"outCubic"})):e.hasOwnProperty("element")&&(t=o.offset(e.element).top,i.animateTo(t,{duration:n,easing:"outCubic"}))),"total-reset"===e.type&&i.refresh()}))}}}});